{% extends "base.html" %}
{% load i18n mezzanine_tags %}

{% block meta_title %}Community{% endblock %}
{% block title %}Community{% endblock %}
{% block body_id %}community{% endblock %}

{% block main %}
  <h3>RaspberryIO community: {{ feed_type.name }}
    <a class="rss" href="{% url aggregator-feed feed_type.slug %}">RSS</a></h3>
  <div class="alert alert-info">
    This page, updated regularly, aggregates {{ feed_type.name }}
    from the RaspberryIO community.
  </div>

  {% for item in object_list %}
    <div class="well">
      <h4><a href="{{ item.link }}">{{ item.title }}</a></h4>
      <p class='date'>Posted on {{ item.date_modified|date:"F j, Y" }} at {{ item.date_modified|date:"g:i A" }} by <a href="{{ item.feed.public_url }}">{{ item.feed.title }}</a> <a class="rss" href="{{ item.feed.feed_url }}">RSS</a></p>
      <div>
      {{ item.summary|safe|truncatewords:"100" }}
      </div>
      <p class="small"><a href="{{ item.link }}">Read this post in context &raquo;</a></p>
    </div>
  {% endfor %}

  {% if is_paginated %}
    <div class="pagination">
      {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">&larr; Older entries</a>
      {% endif %}
      {% if page_obj.has_previous and page_obj.has_next %}|{% endif %}
      {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}">Newer entries &rarr;</a>
      {% endif %}
    </div>
  {% endif %}

{% endblock %}
