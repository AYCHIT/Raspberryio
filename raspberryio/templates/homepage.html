{% extends "base.html" %}
{% load future project_tags mezzanine_tags %}
{% load url from future %}
{% load profile_tags %}

{% block site_title %}Raspberry I/O{% endblock %}

{% block body_id %}homepage{% endblock %}

{% block jumbotron %}
<div class="homepage-hero-wrap">
    <div class="container">
        <div class="message">
            <img src="{{ STATIC_URL }}img/razzy-large.png" alt="Hi! I am Razzy." width="125">
            <h1>Raspberry IO</h1>
            <p>A place for learning, sharing and creating your Raspberry Pi project.</p>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
<div id="homepage-content">
    <div class="container">
        <div class="row">
            <div class="get-started">
                <h2>Welcome to Raspberry IO!</h2>
            {% if user.is_authenticated %}
                <p>Raspberry IO is a collection of Raspberry Pi projects, ideas and a community to share your work. Take a look at some of the latest creations by our talented users!</p>
                <a href="{% url 'project-list' %}">Start Exploring &rarr;</a>
            {% else %}
                <p>Raspberry IO is a collection of Raspberry Pi projects, ideas and a community to share your work. Sign up to submit your latest creation!</p>
                <a href="{% url 'signup' %}">Get Started &rarr;</a>
            {% endif %}
            </div>
        </div>
        
        <div class="row">
            <div class="active-users">
                <hr>
               <h2>Most Active Users</h2>
               <ul>
               {% for num, user in active_users|slice:"5" %}
                   <li class="span2">
                       <a href="{% url 'profile' user %}">{% avatar user.get_profile 200 %}
                           {{ user.username }}</a>
                   </li>
               {% endfor %}
               </ul>
            </div>
        </div>
        
        <div class="row">
            <div class="featured">
            <hr>
            {% featured_projects 1 %}
            {% for featured in featured_projects %}
                <div class="project">
                    <h2>{{ featured.project.title }}</h2>
                    <p>{{ featured.byline }}</p>
                    <a href="{% url 'project-detail' featured.project.slug %}"><img src="{{ MEDIA_URL }}{% thumbnail featured.photo.url 800 400 %}" alt="{{ featured.project.title }}"/></a>
                </div>
                </a>
            {% empty %}
                <div class="project">
                    <h2>Featured Project name</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                    <a href="#"><img src="http://placekitten.com/800/400"></a>
                </div>
            {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ STATIC_URL }}js/libs/jquery.stickyPanel.min.js"></script>
<script>
    $(function () {
        var stickyPanelOptions = {
            afterDetachCSSClass: "",
            savePanelSpace: true
        };
        $("#global-nav").stickyPanel(stickyPanelOptions);
    });
</script>
{% endblock %}
